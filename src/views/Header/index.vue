<template>
  <div class="header" :class="{active:isactive}">
    <extra-scene v-if="isactive" />
    <div class="header__inner">
      <router-link to="/" title="前端导航" class="header__title">
        <div>
          <p>前端导航</p>
          <span>专注于前端开发, 前端开发资源</span>
        </div>
      </router-link>
      <search-box v-if="$store.state.console.search" />
      <div class="header__feature">
        <github
          :svg="svgExperiment"
          class="header__feature-github"
          href="/experiment"
          title="实验室"
          usingRoute>
          <path d="M725.4016 86.8352H298.5984c-2.2528 0-4.096-1.8432-4.096-4.096s1.8432-4.096 4.096-4.096h426.8032c2.2528 0 4.096 1.8432 4.096 4.096s-1.8432 4.096-4.096 4.096z" fill="#246394" p-id="896"></path><path d="M405.0944 620.3392c-28.0576 0-64.7168-4.3008-100.1472-37.2736-1.4336-1.2288-1.6384-3.2768-0.8192-4.9152l62.8736-115.712c0.2048-0.2048 0.2048-0.4096 0.4096-0.6144 7.9872-10.0352 12.288-22.3232 12.288-35.2256V82.7392c0-2.2528 1.8432-4.096 4.096-4.096h256c2.2528 0 4.096 1.8432 4.096 4.096v344.064c0 12.6976 4.3008 25.1904 12.288 35.2256 0.2048 0.2048 0.2048 0.4096 0.4096 0.6144l19.0464 34.816c0.6144 1.2288 0.6144 2.8672 0 4.096-0.6144 1.2288-2.048 1.8432-3.2768 2.048-76.8 14.5408-121.4464 45.2608-160.9728 72.4992-34.816 23.552-64.7168 44.2368-106.2912 44.2368z m-92.16-41.1648c32.5632 29.2864 66.1504 32.9728 92.16 32.9728 39.1168 0 66.56-19.0464 101.5808-43.008 37.2736-25.8048 83.5584-57.5488 159.1296-72.704l-16.1792-29.4912c-8.8064-11.4688-13.7216-25.6-13.7216-39.936v-339.968h-247.808v339.7632c0 14.7456-4.7104 28.4672-13.7216 39.936l-61.44 112.4352z" fill="#246394" p-id="897"></path><path d="M858.9312 842.9568l-186.9824-343.6544h-0.2048c-147.456 27.648-181.0432 116.9408-266.4448 116.9408-22.528 0-60.8256-2.048-97.28-36.2496L165.0688 842.9568c-31.3344 39.7312-3.072 98.304 47.7184 98.304h598.6304c50.5856 0 79.0528-58.5728 47.5136-98.304z" fill="#246394" p-id="898"></path><path d="M811.4176 945.3568H212.7872c-24.9856 0-47.3088-13.9264-58.368-36.4544-10.8544-22.528-8.192-48.5376 7.168-68.1984l142.7456-262.7584c0.6144-1.024 1.6384-1.8432 2.8672-2.048 1.2288-0.2048 2.4576 0.2048 3.4816 1.024 33.1776 31.1296 67.9936 35.2256 94.4128 35.2256 38.912 0 66.56-19.0464 101.1712-43.008 38.0928-26.4192 85.6064-59.1872 164.4544-73.9328 1.6384-0.4096 3.6864 0.6144 4.5056 2.048l186.7776 343.4496c15.36 19.456 18.2272 45.6704 7.3728 67.9936-10.6496 22.528-32.9728 36.6592-57.9584 36.6592zM309.0432 586.5472L168.7552 845.0048c-0.2048 0.2048-0.2048 0.4096-0.4096 0.6144-13.5168 17.2032-15.9744 40.1408-6.5536 59.8016 9.6256 19.6608 29.0816 31.9488 50.9952 31.9488h598.6304c21.9136 0 41.3696-12.288 50.9952-31.9488 9.4208-19.6608 6.9632-42.5984-6.5536-59.5968-0.2048-0.2048-0.2048-0.4096-0.4096-0.6144L669.696 503.808c-75.3664 14.7456-119.6032 45.056-158.5152 72.0896-34.6112 23.7568-64.3072 44.4416-105.8816 44.4416-27.0336 0-62.0544-3.8912-96.256-33.792z" fill="#246394" p-id="899"></path>
        </github>
      </div>
    </div>
  </div>
</template>

<script>
import ExtraScene from '../../components/ExtraScene'
import Github from '../../components/Github'
import SearchBox from '../../components/SearchBox'
import { featuresToggle } from '../../helper/toggle'
export default {
  data () {
    return {
      isactive: false,
      svgGithub: {
        height: '30',
        width: '30',
        viewBox: '0 0 16 16'
      },
      svgExperiment: {
        height: '30',
        width: '30',
        viewBox: '0 0 1024 1024'
      },
      featuresToggle
    }
  },
  mounted () {
    const m = new Date().getMonth() + 1
    const d = new Date().getDate()
    const newYear = m === 1 && d === 1
    if (m === 12) {
      if (d === 25) {
        this.isactive = true
      }
    }
    if (newYear) {
      this.isactive = true
    }
  },
  components: {
    ExtraScene,
    Github,
    SearchBox
  }
}
</script>
<style lang="scss">
@import './index.scss';
</style>
